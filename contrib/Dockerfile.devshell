FROM public.ecr.aws/docker/library/golang:1.24-bookworm

RUN --mount=target=/ctx \
    if [ -d /ctx/.extra-certs/ ] ; then \
        cp /ctx/.extra-certs/* /usr/local/share/ca-certificates/ && update-ca-certificates; \
    fi

RUN \
    curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/v2.1.6/install.sh | sh -s -- -b $(go env GOPATH)/bin \
    && golangci-lint --version
